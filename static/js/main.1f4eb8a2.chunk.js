(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,a,t){e.exports=t(47)},31:function(e,a,t){},34:function(e,a,t){},35:function(e,a,t){},36:function(e,a,t){},37:function(e,a,t){},46:function(e,a,t){},47:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(23),l=t.n(c),s=(t(31),t(10)),i=t.n(s),o=t(15),m=t(5),u=t(6),p=t(8),d=t(7),g=t(9),h=t(12),f=t(16),b=t(11),v=3,E=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(p.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={searchValue:""},t.searchCharacter=function(e){var a=e.target;a.value.length>=v&&t.setState({searchValue:a.value})},t}return Object(g.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"search-wrap"},r.a.createElement("input",{type:"text",className:"search-input",onChange:this.searchCharacter,name:"search",placeholder:"Type smth..."}),r.a.createElement("button",{className:"search-button",onClick:this.props.handleSearch},"Search"))}}]),a}(n.Component),N=(t(34),function(e){function a(){return Object(m.a)(this,a),Object(p.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(g.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sorting-panel-wrap"},r.a.createElement("fieldset",{className:"sorting-fieldset"},r.a.createElement("legend",{className:"sorting-legend"},"Filter by gender"),r.a.createElement("label",{htmlFor:"gender-all-sort",className:"sorting-label"},r.a.createElement("input",{type:"radio",name:"gender",className:"filter-input",id:"gender-all-sort"}),r.a.createElement("span",{className:"sorting-label-text"}),"All"),r.a.createElement("label",{htmlFor:"gender-male-sort",className:"sorting-label"},r.a.createElement("input",{type:"radio",name:"gender",className:"filter-input",id:"gender-male-sort"}),r.a.createElement("span",{className:"sorting-label-text"}),"Male"),r.a.createElement("label",{htmlFor:"gender-female-sort",className:"sorting-label"},r.a.createElement("input",{type:"radio",name:"gender",className:"filter-input",id:"gender-female-sort"}),r.a.createElement("span",{className:"sorting-label-text"}),"Female"),r.a.createElement("label",{htmlFor:"gender-unknown-sort",className:"sorting-label"},r.a.createElement("input",{type:"radio",name:"gender",className:"filter-input",id:"gender-unknown-sort"}),r.a.createElement("span",{className:"sorting-label-text"}),"Unknown")),r.a.createElement("fieldset",{className:"sorting-fieldset"},r.a.createElement("legend",{className:"sorting-legend"},"Filter by name"),r.a.createElement("label",{htmlFor:"name-asc",className:"sorting-label"},r.a.createElement("input",{type:"radio",name:"sorting",className:"filter-input",id:"name-asc"}),r.a.createElement("span",{className:"sorting-label-text"}),"Aa-Zz"),r.a.createElement("label",{htmlFor:"name-desc",className:"sorting-label"},r.a.createElement("input",{type:"radio",name:"sorting",className:"filter-input",id:"name-desc"}),r.a.createElement("span",{className:"sorting-label-text"}),"Zz-Aa")),r.a.createElement("button",{className:"reset-filter-button",type:"button",onClick:this.props.resetHandler},"Reset filter"))}}]),a}(n.Component)),y=function(e){function a(){return Object(m.a)(this,a),Object(p.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(g.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{className:"filter-form",onSubmit:this.props.handleSearch,onChange:this.props.handleFilter,ref:this.props.refProp},r.a.createElement(E,null),r.a.createElement(N,{resetHandler:this.props.handleResetFilter}))}}]),a}(n.Component),P=(t(35),function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"loader-wrap"},r.a.createElement("div",{className:"loader"})))}),k=t(13),j=(t(36),"LEFT"),O="RIGHT",C=function(e,a){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,r=[];n<=a;)r.push(n),n+=t;return r},w=function(e){function a(e){var t;Object(m.a)(this,a),(t=Object(p.a)(this,Object(d.a)(a).call(this,e))).gotoPage=function(e){var a=t.props.onPageChanged,n=void 0===a?function(e){return e}:a,r=Math.max(0,Math.min(e,t.totalPages)),c={currentPage:r,totalPages:t.totalPages,totalRecords:t.totalRecords};t.setState({currentPage:r},function(){return n(c)})},t.handleClick=function(e,a){a.preventDefault(),t.gotoPage(e)},t.handleMoveLeft=function(e){e.preventDefault(),t.gotoPage(t.state.currentPage-2*t.pageNeighbours-1)},t.handleMoveRight=function(e){e.preventDefault(),t.gotoPage(t.state.currentPage+2*t.pageNeighbours+1)},t.fetchPageNumbers=function(){var e=t.totalPages,a=t.state.currentPage,n=t.pageNeighbours,r=2*t.pageNeighbours+3;if(e>r+2){var c=[],l=a-n,s=a+n,i=e-1,o=l>2?l:2,m=s<i?s:i,u=r-(c=C(o,m)).length-1,p=o>2,d=m<i,g=j,h=O;if(p&&!d){var f=C(o-u,o-1);c=[g].concat(Object(k.a)(f),Object(k.a)(c))}else if(!p&&d){var b=C(m+1,m+u);c=[].concat(Object(k.a)(c),Object(k.a)(b),[h])}else p&&d&&(c=[g].concat(Object(k.a)(c),[h]));return[1].concat(Object(k.a)(c),[e])}return C(1,e)};var n=e.totalRecords,r=void 0===n?null:n,c=e.pageNeighbours,l=void 0===c?0:c;return t.totalRecords="number"===typeof r?r:0,t.pageNeighbours="number"===typeof l?Math.max(0,Math.min(l,2)):0,t.totalPages=20,t.state={currentPage:1},t}return Object(g.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){this.gotoPage(1)}},{key:"render",value:function(){var e=this;if(!this.totalRecords)return null;if(1===this.totalPages)return null;var a=this.state.currentPage,t=this.fetchPageNumbers();return r.a.createElement(n.Fragment,null,r.a.createElement("nav",{"aria-label":"Countries Pagination"},r.a.createElement("ul",{className:"pagination"},t.map(function(t,n){return t===j?r.a.createElement("li",{key:n,className:"page-item"},r.a.createElement("a",{className:"page-link",href:"#","aria-label":"Previous",onClick:e.handleMoveLeft},r.a.createElement("span",{"aria-hidden":"true"},"\xab"),r.a.createElement("span",{className:"sr-only"},"Previous"))):t===O?r.a.createElement("li",{key:n,className:"page-item"},r.a.createElement("a",{className:"page-link",href:"#","aria-label":"Next",onClick:e.handleMoveRight},r.a.createElement("span",{"aria-hidden":"true"},"\xbb"),r.a.createElement("span",{className:"sr-only"},"Next"))):r.a.createElement("li",{key:n,className:"page-item".concat(a===t?" active":"")},r.a.createElement("a",{className:"page-link",href:"#",onClick:function(a){return e.handleClick(t,a)}},t))}))))}}]),a}(n.Component);var F=function(){return r.a.createElement("section",{className:"page-section"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"section-title"},"About page"),r.a.createElement("p",null,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Laborum quisquam impedit alias, optio suscipit sequi officia, et expedita repudiandae cumque temporibus voluptates. Porro aut facilis commodi, minus laborum earum modi!"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis voluptatibus pariatur ab, incidunt vero reprehenderit eaque corrupti quisquam aspernatur velit quibusdam expedita quasi nisi? Perspiciatis totam eaque saepe placeat error.")))},x=(t(37),function(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"main-title"},"Rick and Morty React application"),r.a.createElement("nav",{className:"main-navigation"},r.a.createElement("ul",{className:"main-navigation-list"},r.a.createElement("li",{className:"main-navigation-list__item"},r.a.createElement(f.b,{exact:!0,activeClassName:"active",to:"/rick-and-morty-react-app/"},"Home")),r.a.createElement("li",{className:"main-navigation-list__item"},r.a.createElement(f.b,{activeClassName:"active",to:"/rick-and-morty-react-app/about"},"About")))))}),R=function(){var e=Object(o.a)(i.a.mark(function e(){var a,t,n,r=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:1,e.next=3,fetch("https://rickandmortyapi.com/api/character/?page=".concat(a));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n.results);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),S={genderMale:"Male",genderFemale:"Female",genderUnknown:"unknown"},L=(t(46),function(e){function a(){var e;return Object(m.a)(this,a),(e=Object(p.a)(this,Object(d.a)(a).call(this))).state={charactersList:[],characterName:"",sortingNameParam:"",gender:"",currentPage:null,totalPages:null},e.performSearch=function(a){a.preventDefault();var t=Array.from(a.target.elements).find(function(e){return"search"===e.name});if(t){var n=t.value.toLowerCase();e.setState({characterName:n})}},e.performFilteringByName=function(a){"name-asc"===a.target.id?e.setState({sortingNameParam:"asc"}):"name-desc"===a.target.id?e.setState({sortingNameParam:"desc"}):"gender-all-sort"===a.target.id?e.setState({gender:""}):"gender-female-sort"===a.target.id?e.setState({gender:S.genderFemale}):"gender-male-sort"===a.target.id?e.setState({gender:S.genderMale}):"gender-unknown-sort"===a.target.id&&e.setState({gender:S.genderUnknown})},e.performResetFilter=function(){e.setState({charactersList:e.characterListCopy,characterName:"",sortingNameParam:"",gender:""}),e.formRef.current.reset()},e.characterListCopy=[],e.onPageChanged=e.onPageChanged.bind(Object(h.a)(Object(h.a)(e))),e.performResetFilter=e.performResetFilter.bind(Object(h.a)(Object(h.a)(e))),e.formRef=r.a.createRef(),e}return Object(g.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:a=e.sent,this.characterListCopy=a,this.setState({charactersList:a});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onPageChanged",value:function(){var e=Object(o.a)(i.a.mark(function e(a){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.currentPage,e.next=3,R(t);case 3:n=e.sent,this.setState({currentPage:t,charactersList:n});case 5:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,a=this.state,n=a.charactersList,c=a.characterName,l=a.sortingNameParam,s=a.gender,i=n.filter(function(e){return e.name.toLowerCase().includes(c)});"asc"===l?i=i.sort(function(e,a){return e.name.localeCompare(a.name)}):"desc"===l&&(i=i.sort(function(e,a){return a.name.localeCompare(e.name)})),""!==s&&(i=i.filter(function(e){return e.gender===s}));var o=r.a.lazy(function(e){return t.e(3).then(t.bind(null,50))});return r.a.createElement(f.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(x,null),r.a.createElement(b.a,{exact:!0,path:"/rick-and-morty-react-app/",render:function(a){return r.a.createElement("div",{className:"container main-content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"filter-panel"},r.a.createElement("aside",{className:"aside"},r.a.createElement(y,{handleSearch:e.performSearch,handleFilter:e.performFilteringByName,handleResetFilter:e.performResetFilter,refProp:e.formRef}))),r.a.createElement("div",{className:"characters-panel"},r.a.createElement("main",null,r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(P,null)},r.a.createElement(o,{characters:i}),r.a.createElement(w,{totalRecords:20,pageNeighbours:1,onPageChanged:e.onPageChanged}))))))}}),r.a.createElement(b.a,{path:"/rick-and-morty-react-app/about",component:F})))}}]),a}(n.Component));l.a.render(r.a.createElement(L,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.1f4eb8a2.chunk.js.map